{"ast":null,"code":"import _defineProperty from \"c:\\\\Users\\\\micah\\\\Documents\\\\Main\\\\Projects\\\\restaurant-application\\\\restaurant_online_order_application\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"c:\\\\Users\\\\micah\\\\Documents\\\\Main\\\\Projects\\\\restaurant-application\\\\restaurant_online_order_application\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"c:\\\\Users\\\\micah\\\\Documents\\\\Main\\\\Projects\\\\restaurant-application\\\\restaurant_online_order_application\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"c:\\\\Users\\\\micah\\\\Documents\\\\Main\\\\Projects\\\\restaurant-application\\\\restaurant_online_order_application\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"c:\\\\Users\\\\micah\\\\Documents\\\\Main\\\\Projects\\\\restaurant-application\\\\restaurant_online_order_application\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"c:\\\\Users\\\\micah\\\\Documents\\\\Main\\\\Projects\\\\restaurant-application\\\\restaurant_online_order_application\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"c:\\\\Users\\\\micah\\\\Documents\\\\Main\\\\Projects\\\\restaurant-application\\\\restaurant_online_order_application\\\\client\\\\src\\\\components\\\\auth\\\\Login.js\";\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\n/* import { loginUser } from \"../../actions/authActions-Business\"; */\n\nimport { loginBusinessOwner } from \"../../actions/authActions-Business\";\nimport { loginCustomer } from \"../../actions/authActions-Customer\";\nimport \"./Auth.scss\";\n/* Global Variable for checking the sign-in option */\n\nvar businessSignUp = false;\n\nvar Login =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Login, _Component);\n\n  function Login() {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).call(this));\n\n    _this.updateLoginOption = function () {\n      if (businessSignUp === false) {\n        businessSignUp = true;\n      } else {\n        businessSignUp = false;\n      }\n      /*\r\n      if(this.state.businessSignUp === false) {\r\n        this.setState({ businessSignUp: true });\r\n      } else {\r\n        this.setState({ businessSignUp: false });\r\n      } */\n\n\n      console.log(\"businessSignUp =>\", businessSignUp);\n    };\n\n    _this.onChange = function (e) {\n      _this.setState(_defineProperty({}, e.target.id, e.target.value));\n    };\n\n    _this.onSubmit = function (e) {\n      e.preventDefault();\n      var userData = {\n        email: _this.state.email,\n        password: _this.state.password\n      };\n\n      if (businessSignUp) {\n        //True -> Sign-in as a Business owner\n        _this.props.loginBusinessOwner(userData);\n      } else {\n        //False -> Sign-in as a Customer\n        console.log(\"Sign-in as a customer attempted\");\n\n        _this.props.loginCustomer(userData);\n      }\n    };\n\n    _this.fillDemoEmail = function () {\n      _this.setState({\n        email: \"test@test.com\"\n      });\n    };\n\n    _this.fillDemoPassword = function () {\n      _this.setState({\n        password: \"test123\"\n      });\n    };\n\n    _this.state = {\n      email: \"\",\n      password: \"\",\n      errors: {}\n    };\n    return _this;\n  }\n  /* -------------------------------- */\n\n\n  _createClass(Login, [{\n    key: \"componentDidMount\",\n\n    /* -------------------------------- */\n    value: function componentDidMount() {\n      // If logged in and user navigates to Login page, should redirect them to dashboard\n      if (businessSignUp) {\n        if (this.props.auth.isAuthenticated) {\n          this.props.history.push(\"/dashboard-business\");\n        }\n      } else {\n        console.log(\"this.props.history.push('/dashboard-customer')\");\n\n        if (this.props.auth.isAuthenticated) {\n          this.props.history.push(\"/dashboard-customer\");\n        }\n      }\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      if (businessSignUp) {\n        if (nextProps.auth.isAuthenticated) {\n          this.props.history.push(\"/dashboard-business\");\n        }\n\n        if (nextProps.errors) {\n          this.setState({\n            errors: nextProps.errors\n          });\n        }\n      } else {\n        console.log(\"this.props.history.push('/dashboard-customer')\");\n\n        if (nextProps.auth.isAuthenticated) {\n          this.props.history.push(\"/dashboard-customer\");\n        }\n\n        if (nextProps.errors) {\n          this.setState({\n            errors: nextProps.errors\n          });\n        }\n      }\n    }\n    /*   componentDidMount() {\r\n        console.log(this.state);\r\n        // If logged in and user navigates to Login page, should redirect them to dashboard\r\n        console.log(\"this.props.auth => \", this.props.auth);\r\n        if (this.props.auth.isAuthenticated) {\r\n          this.props.history.push(\"/dashboard-business\");\r\n        }\r\n      }\r\n    \r\n      componentWillReceiveProps(nextProps) {\r\n        if (nextProps.auth.isAuthenticated) {\r\n          this.props.history.push(\"/dashboard-business\");\r\n        }\r\n    \r\n        if (nextProps.errors) {\r\n          this.setState({\r\n            errors: nextProps.errors\r\n          });\r\n        }\r\n      } */\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var errors = this.state.errors;\n      return React.createElement(\"div\", {\n        className: \"base-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"auth-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, \"Sign In\"), React.createElement(\"form\", {\n        className: \"auth-form\",\n        noValidate: true,\n        onSubmit: this.onSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"auth-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"auth-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, \"Email address\"), React.createElement(\"input\", {\n        onChange: this.onChange,\n        value: this.state.email,\n        error: errors.email,\n        id: \"email\",\n        type: \"email\",\n        className: \"auth-input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"auth-error\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, errors.email, errors.emailnotfound))), React.createElement(\"div\", {\n        className: \"auth-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"auth-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, \"Password\"), React.createElement(\"input\", {\n        onChange: this.onChange,\n        value: this.state.password,\n        error: errors.password,\n        id: \"password\",\n        type: \"password\",\n        className: \"auth-input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"auth-error\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, errors.password, errors.passwordincorrect))), React.createElement(\"div\", {\n        className: \"auth-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"auth-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, \"Login as a Business Owner\"), React.createElement(\"label\", {\n        className: \"switch\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"checkbox\",\n        onChange: this.updateLoginOption,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        class: \"slider round\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"auth-button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, \"Login\")), React.createElement(\"div\", {\n        className: \"bottom-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/register-business\",\n        className: \"link\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, \"Sign up as a Business Owner\")), React.createElement(\"div\", {\n        className: \"bottom-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/register-customer\",\n        className: \"link\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }, \"Sign up as a Customer\"))));\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nLogin.propTypes = {\n  loginBusinessOwner: PropTypes.func.isRequired,\n  loginCustomer: PropTypes.func.isRequired,\n  auth: PropTypes.object.isRequired,\n  errors: PropTypes.object.isRequired\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    auth: state.auth,\n    errors: state.errors\n  };\n};\n\nexport default connect(mapStateToProps, {\n  loginBusinessOwner: loginBusinessOwner,\n  loginCustomer: loginCustomer\n})(Login);","map":{"version":3,"sources":["c:/Users/micah/Documents/Main/Projects/restaurant-application/restaurant_online_order_application/client/src/components/auth/Login.js"],"names":["React","Component","Link","PropTypes","connect","loginBusinessOwner","loginCustomer","businessSignUp","Login","updateLoginOption","console","log","onChange","e","setState","target","id","value","onSubmit","preventDefault","userData","email","state","password","props","fillDemoEmail","fillDemoPassword","errors","auth","isAuthenticated","history","push","nextProps","emailnotfound","passwordincorrect","propTypes","func","isRequired","object","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\n/* import { loginUser } from \"../../actions/authActions-Business\"; */\r\nimport { loginBusinessOwner } from \"../../actions/authActions-Business\";\r\nimport { loginCustomer } from \"../../actions/authActions-Customer\";\r\n\r\nimport \"./Auth.scss\";\r\n\r\n\r\n/* Global Variable for checking the sign-in option */\r\nlet businessSignUp = false;\r\n\r\nclass Login extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      email: \"\",\r\n      password: \"\",\r\n      errors: {}\r\n    };\r\n  }\r\n\r\n\r\n  /* -------------------------------- */\r\n  updateLoginOption = () => {\r\n    if(businessSignUp === false) {\r\n      businessSignUp = true;\r\n    } else {\r\n      businessSignUp = false;\r\n    }\r\n\r\n    /*\r\n    if(this.state.businessSignUp === false) {\r\n      this.setState({ businessSignUp: true });\r\n    } else {\r\n      this.setState({ businessSignUp: false });\r\n    } */\r\n\r\n    console.log(\"businessSignUp =>\", businessSignUp);\r\n  }\r\n  /* -------------------------------- */\r\n\r\n  componentDidMount() {\r\n    // If logged in and user navigates to Login page, should redirect them to dashboard\r\n    if(businessSignUp) {\r\n      if (this.props.auth.isAuthenticated) {\r\n        this.props.history.push(\"/dashboard-business\");\r\n      }\r\n    } else {\r\n      console.log(\"this.props.history.push('/dashboard-customer')\");\r\n      if (this.props.auth.isAuthenticated) {\r\n        this.props.history.push(\"/dashboard-customer\");\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if(businessSignUp) {\r\n      if (nextProps.auth.isAuthenticated) {\r\n        this.props.history.push(\"/dashboard-business\");\r\n      }\r\n\r\n      if (nextProps.errors) {\r\n        this.setState({\r\n          errors: nextProps.errors\r\n        });\r\n      }\r\n    } else {\r\n      console.log(\"this.props.history.push('/dashboard-customer')\");\r\n      if (nextProps.auth.isAuthenticated) {\r\n        this.props.history.push(\"/dashboard-customer\");\r\n      }\r\n\r\n      if (nextProps.errors) {\r\n        this.setState({\r\n          errors: nextProps.errors\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n/*   componentDidMount() {\r\n    console.log(this.state);\r\n    // If logged in and user navigates to Login page, should redirect them to dashboard\r\n    console.log(\"this.props.auth => \", this.props.auth);\r\n    if (this.props.auth.isAuthenticated) {\r\n      this.props.history.push(\"/dashboard-business\");\r\n    }\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.auth.isAuthenticated) {\r\n      this.props.history.push(\"/dashboard-business\");\r\n    }\r\n\r\n    if (nextProps.errors) {\r\n      this.setState({\r\n        errors: nextProps.errors\r\n      });\r\n    }\r\n  } */\r\n\r\n  onChange = e => {\r\n    this.setState({ [e.target.id]: e.target.value });\r\n  };\r\n\r\n  onSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    const userData = {\r\n      email: this.state.email,\r\n      password: this.state.password\r\n    };\r\n\r\n    if(businessSignUp) {\r\n      //True -> Sign-in as a Business owner\r\n      this.props.loginBusinessOwner(userData);\r\n    } else {\r\n      //False -> Sign-in as a Customer\r\n      console.log(\"Sign-in as a customer attempted\");\r\n      this.props.loginCustomer(userData);\r\n    }\r\n\r\n\r\n  };\r\n\r\n  fillDemoEmail = () => {\r\n    this.setState({ email: \"test@test.com\" });\r\n  };\r\n\r\n  fillDemoPassword = () => {\r\n    this.setState({ password: \"test123\" });\r\n  };\r\n\r\n  render() {\r\n    const { errors } = this.state;\r\n\r\n    return (\r\n\r\n      <div className=\"base-wrapper\">\r\n        <div className=\"auth-header\">Sign In</div>\r\n        <form className=\"auth-form\" noValidate onSubmit={this.onSubmit}>\r\n          <div className=\"auth-group\">\r\n            <label>\r\n              <div className=\"auth-label\">Email address</div>\r\n              <input\r\n                onChange={this.onChange}\r\n                value={this.state.email}\r\n                error={errors.email}\r\n                id=\"email\"\r\n                type=\"email\"\r\n                className=\"auth-input\"\r\n              />\r\n              <div className=\"auth-error\">\r\n                {errors.email}\r\n                {errors.emailnotfound}\r\n              </div>\r\n            </label>\r\n          </div>\r\n\r\n          <div className=\"auth-group\">\r\n            <label>\r\n              <div className=\"auth-label\">Password</div>\r\n              <input\r\n                onChange={this.onChange}\r\n                value={this.state.password}\r\n                error={errors.password}\r\n                id=\"password\"\r\n                type=\"password\"\r\n                className=\"auth-input\"\r\n              />\r\n              <div className=\"auth-error\">\r\n                {errors.password}\r\n                {errors.passwordincorrect}\r\n              </div>\r\n            </label>\r\n          </div>\r\n{/* ------------------------------------------------------------- */}\r\n          <div className=\"auth-group\">\r\n            <div className=\"auth-label\">Login as a Business Owner</div>\r\n            <label className=\"switch\">\r\n              <input\r\n                type=\"checkbox\"\r\n                onChange={this.updateLoginOption}\r\n              />\r\n              <span class=\"slider round\"></span>\r\n            </label>\r\n          </div>\r\n{/* ------------------------------------------------------------- */}\r\n\r\n          <div>\r\n            <button type=\"submit\" className=\"auth-button\">\r\n              Login\r\n            </button>\r\n          </div>\r\n          <div className=\"bottom-group\">\r\n            <Link to=\"/register-business\" className=\"link\">\r\n              Sign up as a Business Owner\r\n            </Link>\r\n          </div>\r\n\r\n          <div className=\"bottom-group\">\r\n            <Link to=\"/register-customer\" className=\"link\">\r\n              Sign up as a Customer\r\n            </Link>\r\n          </div>\r\n\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nLogin.propTypes = {\r\n  loginBusinessOwner: PropTypes.func.isRequired,\r\n  loginCustomer: PropTypes.func.isRequired,\r\n  auth: PropTypes.object.isRequired,\r\n  errors: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  auth: state.auth,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { loginBusinessOwner, loginCustomer }\r\n)(Login);\r\n"]},"metadata":{},"sourceType":"module"}